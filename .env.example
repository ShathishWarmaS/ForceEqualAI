# üöÄ Advanced RAG 2025 PDF Q&A Application - Environment Configuration
# ==============================================================================
# This file contains all environment variables needed for the application.
# Copy this file to .env.local and fill in your actual values.

# ==============================================================================
# üîë REQUIRED CONFIGURATION
# ==============================================================================

# OpenAI API Configuration (REQUIRED)
# Get your API key from: https://platform.openai.com/api-keys
# Used for: GPT-4 strategy selection, query processing, and answer generation
OPENAI_API_KEY=sk-your-actual-openai-key-here

# JWT Secret (REQUIRED)
# Generate a secure secret with: openssl rand -base64 32
# Used for: Secure user authentication and session management
JWT_SECRET=your-secure-jwt-secret-here

# ==============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ==============================================================================

# SQLite Database (Default - No configuration needed)
# The app uses SQLite by default with local file storage
# Database file will be created at: ./data/app.db

# PostgreSQL Database (Optional - for production)
# Uncomment and configure if you want to use PostgreSQL instead
# DATABASE_URL=postgresql://username:password@localhost:5432/pdf_qa_app

# MongoDB Database (Optional - for production)
# Uncomment and configure if you want to use MongoDB instead
# MONGODB_URI=mongodb://localhost:27017/pdf_qa_app

# ==============================================================================
# üîç VECTOR DATABASE CONFIGURATION (Optional but Recommended for Production)
# ==============================================================================

# Qdrant Configuration (Recommended for production vector storage)
# Leave empty to use in-memory file-based storage (development mode)
# Get free cloud instance: https://cloud.qdrant.io
QDRANT_URL=https://your-qdrant-cluster-url.com:6333
QDRANT_API_KEY=your-qdrant-api-key
QDRANT_COLLECTION_NAME=pdf-documents

# Pinecone Configuration (Alternative vector database)
# Uncomment if using Pinecone instead of Qdrant
# PINECONE_API_KEY=your-pinecone-api-key
# PINECONE_ENVIRONMENT=your-pinecone-environment
# PINECONE_INDEX_NAME=pdf-qa-index

# Chroma Configuration (Alternative vector database)
# Uncomment if using Chroma instead of Qdrant
# CHROMA_HOST=localhost
# CHROMA_PORT=8000
# CHROMA_COLLECTION_NAME=pdf_documents

# ==============================================================================
# üîê AUTHENTICATION CONFIGURATION
# ==============================================================================

# Next Auth Configuration
# Used for: Enhanced authentication features (optional)
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_nextauth_secret_here

# Session Configuration
# SESSION_SECRET=your-session-secret-here
# SESSION_MAX_AGE=86400  # 24 hours in seconds

# ==============================================================================
# ü§ñ AI MODEL CONFIGURATION (Advanced Settings)
# ==============================================================================

# OpenAI Model Settings (Optional - defaults are optimized)
# OPENAI_STRATEGY_MODEL=gpt-4-turbo-preview  # For strategy selection
# OPENAI_ANSWER_MODEL=gpt-4-turbo-preview    # For answer generation
# OPENAI_EXPANSION_MODEL=gpt-3.5-turbo       # For query expansion
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small  # For embeddings

# Model Temperature Settings
# OPENAI_STRATEGY_TEMPERATURE=0.1
# OPENAI_ANSWER_TEMPERATURE=0.2
# OPENAI_EXPANSION_TEMPERATURE=0.1

# Token Limits
# OPENAI_MAX_TOKENS_STRATEGY=500
# OPENAI_MAX_TOKENS_ANSWER=1500
# OPENAI_MAX_TOKENS_EXPANSION=500

# ==============================================================================
# üöÄ APPLICATION CONFIGURATION
# ==============================================================================

# Application Environment
NODE_ENV=development  # development | production | test

# Application URL (for production deployment)
# APP_URL=https://yourdomain.com

# File Upload Configuration
# MAX_FILE_SIZE=10485760      # 10MB in bytes
# ALLOWED_FILE_TYPES=application/pdf
# MAX_FILES_PER_USER=50

# Rate Limiting Configuration
# RATE_LIMIT_REQUESTS=100     # requests per window
# RATE_LIMIT_WINDOW=900000    # 15 minutes in milliseconds

# Vector Store Configuration
# VECTOR_STORE_TYPE=file      # file | qdrant | pinecone | chroma
# CHUNK_SIZE=1000            # characters per chunk
# CHUNK_OVERLAP=200          # overlap between chunks
# MAX_CHUNKS_PER_QUERY=10    # maximum chunks to retrieve

# ==============================================================================
# üìä MONITORING & ANALYTICS (Optional)
# ==============================================================================

# Sentry Configuration (Error tracking)
# SENTRY_DSN=your-sentry-dsn-here
# SENTRY_ENVIRONMENT=development

# Analytics Configuration
# VERCEL_ANALYTICS_ID=your-vercel-analytics-id
# GOOGLE_ANALYTICS_ID=your-ga-tracking-id

# Performance Monitoring
# PERFORMANCE_MONITORING=true
# LOG_LEVEL=info  # error | warn | info | debug

# ==============================================================================
# üîß DEVELOPMENT & DEBUGGING
# ==============================================================================

# Debug Configuration
# DEBUG=false
# VERBOSE_LOGGING=false
# ENABLE_QUERY_TRACING=false

# Development Features
# ENABLE_API_PLAYGROUND=false
# ENABLE_ADMIN_PANEL=false
# SHOW_PERFORMANCE_METRICS=false

# ==============================================================================
# üìù NOTES
# ==============================================================================
# 1. Copy this file to .env.local: cp .env.example .env.local
# 2. Fill in at minimum: OPENAI_API_KEY and JWT_SECRET
# 3. For production, configure vector database (Qdrant recommended)
# 4. Generate JWT_SECRET with: openssl rand -base64 32
# 5. Keep .env.local file secure and never commit it to version control
# 6. Restart the development server after changing environment variables

# ==============================================================================
# üÜò TROUBLESHOOTING
# ==============================================================================
# If you encounter issues:
# 1. Ensure OPENAI_API_KEY is valid and has sufficient credits
# 2. Check that JWT_SECRET is at least 32 characters long
# 3. Verify QDRANT_URL is accessible if using external vector database
# 4. Run 'npm run dev' to restart the development server
# 5. Check the console for detailed error messages